X = [-14.34,-16.97,-14.09,-14.74,-16.69,-13.85,-15.55,-14.62,-13.30...
,-15.52,-14.75,-16.51,-17.15,-16.87,-15.06,-13.60,-14.48,-14.71,-14.17,...
-13.88,-14.55,-15.37,-14.81,-16.05,-17.06,-15.86,-15.12,-15.98,-14.16,...
-15.81,-15.06,-16.19,-16.22,-16.19,-14.87,-15.62,-15.86,-15.25,-16.34,...
-14.44,-14.72,-15.17,-15.24,-14.44,-15.93,-14.87,-16.53,-15.76,-15.12,...
-12.91,-16.06,-16.06,-14.89,-15.57,-13.59,-16.84,-13.88,-14.33,-15.45,...
-16.58,-16.05,-14.34,-13.55,-16.78,-14.15,-14.28,-14.40,-13.98,-16.23,...
-15.35,-14.77,-15.61,-15.59,-15.64,-14.76,-17.18,-15.13,-15.01,-14.21,...
-13.91,-16.55,-15.44,-14.03,-16.44,-15.57,-15.07,-16.28,-16.30,-15.74,...
-14.03,-14.85,-15.73,-15.81,-14.42,-14.14,-15.14,-15.49,-16.42,-14.22,...
-14.20,-17.17,-15.82,-14.96,-14.75,-14.98,-13.64,-14.00,-17.29,-14.51,...
-16.18,-15.70,-15.07,-14.28,-14.55,-13.85,-15.36,-15.74,-14.61,-16.32,-15.34];
%sX = 4*X;
X = [0 2];
M_max = max(X);
M_min = min(X);



R = M_max - M_min;


MX = mean(X);
DX = var(X);


m = floor(log2(length(X))) + 2;
[counts, edges] = histcounts(X, m);

delta = (M_max - M_min) / m;

sigma = std(X);
tmp1 = var(X);
tmp = sigma - sqrt(var(X));
x = (M_min - 1):(sigma / 100):(M_max + 1);   %диапазон
f = normpdf(x, MX, sigma);
figure;
heights = counts / (sum(counts) * delta);
centers = [];
for i = 1:(length(edges) - 1)
    centers = [centers, (edges(i + 1) + edges(i)) / 2]; %центры интервалов гистограммы
end


hold on;
bar(centers, heights, 1);
plot(x, f, 'g', 'LineWidth', 2);

F = normcdf(x, MX, sigma);
figure;
hold on;
ecdf(X);
plot(x, F, 'r');